(this["webpackJsonpytqueue-client"]=this["webpackJsonpytqueue-client"]||[]).push([[0],{124:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(34),r=n.n(i),u=(n(123),n(124),n(110)),o=n(84),s=n.n(o),l=n(102),d=n(24),j=n(179),h=n(173),b=n(158),O=n(38),v=(n(87),n(5));var x=function(e){var t=e.searchVideo,n=Object(c.useState)(""),a=Object(d.a)(n,2),i=a[0],r=a[1],u=Object(c.useState)(!0),o=Object(d.a)(u,2),s=o[0],l=o[1];return Object(v.jsxs)(j.a,{columns:"equal",children:[Object(v.jsx)(j.a.Column,{width:8,children:Object(v.jsx)(h.a,{fluid:!0,placeholder:"Search...",value:i,onChange:function(e){return r(e.target.value)}})}),Object(v.jsx)(j.a.Column,{children:Object(v.jsxs)(b.a,{icon:!0,labelPosition:"left",onClick:function(){return t(i)},children:[Object(v.jsx)(O.a,{name:"search"}),"Search"]})}),Object(v.jsx)(j.a.Column,{children:Object(v.jsxs)("div",{className:"items",children:[Object(v.jsx)("input",{type:"checkbox",id:"is-karaoke",checked:s,value:s,onChange:function(e){return l(e.currentTarget.checked)}}),Object(v.jsx)("label",{htmlFor:"is-karaoke",children:'Add "karaoke" to search'})]})})]})},f=n(178),p=n(176),m=n(175);var g=function(e){var t,n,c=e.item,a=e.addToQueue,i=e.showButton;return Object(v.jsxs)(m.a.Event,{children:[Object(v.jsx)(m.a.Label,{image:null===(t=c.snippet.thumbnails)||void 0===t||null===(n=t.default)||void 0===n?void 0:n.url}),Object(v.jsxs)(m.a.Content,{children:[Object(v.jsx)(m.a.Date,{content:c.snippet.publishedAt}),Object(v.jsx)(m.a.Summary,{children:c.snippet.title}),i&&Object(v.jsx)("button",{onClick:function(){return a(c)},children:"Add to queue"})]})]})};var C=function(e){var t=e.searchResults,n=e.addToQueue,a=Object(c.useState)(!0),i=Object(d.a)(a,2),r=i[0],u=i[1];return Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(f.a.Title,{active:r,onClick:function(){return u(!r)},children:[Object(v.jsx)(O.a,{name:"dropdown"}),"Search Result"]}),Object(v.jsx)(f.a.Content,{active:r,children:Object(v.jsxs)(p.a,{fluid:!0,children:[Object(v.jsx)(p.a.Content,{children:Object(v.jsx)(p.a.Header,{children:"Search result"})}),Object(v.jsx)(p.a.Content,{fluid:!0,children:(null===t||void 0===t?void 0:t.length)&&t.map((function(e){return Object(v.jsx)(g,{item:e,showButton:!0,addToQueue:n},e.id.videoId)}))})]})})]})},S=n(105),T=n.n(S);var E=function(e){var t,n=e.videoToPlay,c=e.onEnded;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Currently playing"}),Object(v.jsx)("div",{className:"video-responsive",children:Object(v.jsx)(T.a,{playing:!0,controls:!0,onEnded:function(){return c(null===n||void 0===n?void 0:n.etag)},url:"".concat("https://www.youtube.com/watch?v=").concat(null===n||void 0===n||null===(t=n.id)||void 0===t?void 0:t.videoId)})})]})};var k=function(e){var t=e.queue;return Object(v.jsx)("div",{children:Object(v.jsxs)(p.a,{fluid:!0,children:[Object(v.jsx)(p.a.Content,{children:Object(v.jsx)(p.a.Header,{children:"Queue"})}),Object(v.jsxs)(p.a.Content,{fluid:!0,children:[(null===t||void 0===t?void 0:t.length)&&Object(v.jsx)(m.a,{children:t.map((function(e){return Object(v.jsx)(g,{item:e},e.id.videoId)}))}),!(null===t||void 0===t?void 0:t.length)&&Object(v.jsx)("h4",{children:"No item queue"})]})]})})},y=n(106),w=n.n(y),P=n(174),_=n(107);var I=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(d.a)(i,2),o=r[0],h=r[1],b=Object(c.useState)([]),O=Object(d.a)(b,2),f=O[0],p=O[1],m=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_YTQUEUE_SERVER||"",g=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(m,"api/search/").concat(t));case 2:n=e.sent,c=n.data,a(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(P.a,{children:[Object(v.jsx)(_.a,{children:Object(v.jsx)("title",{children:"YTQueue | Play video in queue, great for Karaoke nights"})}),Object(v.jsx)(x,{searchVideo:g}),Object(v.jsxs)(j.a,{columns:"equal",children:[Object(v.jsxs)(j.a.Column,{children:[(null===n||void 0===n?void 0:n.length)>0&&Object(v.jsx)(C,{searchResults:n,addToQueue:function(e){f.length<1&&h(e),e.isPlayed=!1,p([].concat(Object(u.a)(f),[e]))}}),Object(v.jsx)(E,{videoToPlay:o,onEnded:function(e){var t=f.findIndex((function(t){return t.etag===e}));if(console.log("\ud83d\ude80 ~ file: App.js ~ line 34 ~ playNextInQueue ~ playedItemIndex",t),t>=0&&t!==f.length){var n=f[t+1];h(n)}}})]}),Object(v.jsx)(j.a.Column,{children:Object(v.jsx)(k,{queue:f})})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,180)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),R()},87:function(e,t,n){}},[[157,1,2]]]);
//# sourceMappingURL=main.b4246d85.chunk.js.map
(this["webpackJsonpytqueue-client"]=this["webpackJsonpytqueue-client"]||[]).push([[0],{140:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(43),a=n.n(r),o=(n(139),n(140),n(62)),s=n(94),l=n.n(s),u=n(99),j=n(118),d=n(16),b=n(195),h=n(190),O=n(177),x=n(47),v=(n(91),n(191)),f=n(189),m=n(2);var p=function(){var e=i.a.useState(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(m.jsxs)(v.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:n,trigger:Object(m.jsx)(O.a,{circular:!0,children:"?"}),children:[Object(m.jsx)(v.a.Header,{children:"About YTQueue"}),Object(m.jsx)(v.a.Content,{children:Object(m.jsxs)(v.a.Description,{children:[Object(m.jsx)("h4",{children:"This YouTube Queue Web App is created primarily for Karaoke use"}),Object(m.jsx)("h5",{children:"Recommended setup:"}),Object(m.jsxs)(f.a,{children:[Object(m.jsxs)("ol",{children:[Object(m.jsx)("li",{children:"Use Firefox browser to allow picture in picture to be scaled to full screen"}),Object(m.jsx)("li",{children:"Connect PC to secondary screen (TV,Monitor,Projector)"}),Object(m.jsx)("li",{children:"Connect PC to speaker "}),Object(m.jsx)("li",{children:"Search for a song"}),Object(m.jsx)("li",{children:"Add song to queue by clicking the thumbnail"}),Object(m.jsx)("li",{children:'Reorder, remove, skip song as they appear in the "Queue" column'}),Object(m.jsx)("li",{children:"When a video is playing, hold Shift then right click the video"}),Object(m.jsx)("li",{children:'Select "Picture-in-Picture"'}),Object(m.jsx)("li",{children:"Drag the window to the secondary screen and resize"})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("h5",{children:["This site uses YouTube API for searches, by using this you agree to"," "]}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"https://www.youtube.com/t/terms",children:"YouTube Terms of Service"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"http://www.google.com/policies/privacy",children:"Google Privacy Policy"})})]})]})]})}),Object(m.jsx)(v.a.Actions,{children:Object(m.jsx)(O.a,{color:"black",onClick:function(){return c(!1)},children:"Ok"})})]})};var g=function(e){var t=e.searchVideo,n=e.loading,i=Object(c.useState)(""),r=Object(d.a)(i,2),a=r[0],o=r[1],s=Object(c.useState)(!0),l=Object(d.a)(s,2),u=l[0],j=l[1],v=function(){!n&&a.trim()&&t("".concat(a," ").concat(u?"karaoke":""))};return Object(m.jsxs)(b.a,{columns:"equal",children:[Object(m.jsx)(b.a.Column,{width:8,children:Object(m.jsx)(h.a,{fluid:!0,placeholder:"Search...",value:a,onKeyDown:function(e){"Enter"===e.key&&v()},onChange:function(e){return o(e.target.value)}})}),Object(m.jsx)(b.a.Column,{children:Object(m.jsxs)(O.a,{loading:n,icon:!0,labelPosition:"left",onClick:v,children:[Object(m.jsx)(x.a,{name:"search"}),"Search"]})}),Object(m.jsx)(b.a.Column,{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"checkbox",id:"is-karaoke",checked:u,onChange:function(e){return j(e.currentTarget.checked)}}),Object(m.jsx)("label",{htmlFor:"is-karaoke",children:'Add "karaoke" to search'})]})}),Object(m.jsx)(b.a.Column,{children:Object(m.jsx)(p,{})})]})},y=n(194),C=n(192),k=n(197),S=n(126);var T=function(e){var t=e.item,n=e.onThumbnailClick,c=e.onRemoveClick,i=e.thumbnailText,r=e.showDelete;return Object(m.jsx)(b.a,{columns:2,children:Object(m.jsxs)(b.a.Row,{style:{margin:"1rem"},children:[Object(m.jsx)(b.a.Column,{width:6,style:{cursor:"pointer"},onClick:function(){n(t)},children:Object(m.jsxs)(k.a,{animated:"small fade",children:[Object(m.jsx)(k.a.Content,{visible:!0,children:Object(m.jsx)(S.a,{src:t.snippet.thumbnails.default.url})}),Object(m.jsxs)(k.a.Content,{hidden:!0,children:[Object(m.jsx)(x.a,{disabled:!0,name:"play circle"}),i]})]})}),Object(m.jsxs)(b.a.Column,{children:[Object(m.jsx)("div",{children:t.snippet.title}),Object(m.jsx)("div",{children:t.publishedAt}),r&&Object(m.jsx)(x.a,{color:"red",style:{cursor:"pointer"},onClick:function(){c(t)},name:"delete"})]})]})})};var w=function(e){var t=e.searchResults,n=e.addToQueue,i=e.searchQuery,r=Object(c.useState)(!0),a=Object(d.a)(r,2),o=a[0],s=a[1];return Object(m.jsxs)(y.a,{children:[Object(m.jsxs)(y.a.Title,{active:o,onClick:function(){return s(!o)},children:[Object(m.jsx)(x.a,{name:"dropdown"}),'Search Result for "',i,'"']}),Object(m.jsx)(y.a.Content,{active:o,children:Object(m.jsx)(C.a,{fluid:!0,children:Object(m.jsx)(C.a.Content,{children:(null===t||void 0===t?void 0:t.length)&&t.map((function(e){return Object(m.jsx)(T,{item:e,thumbnailText:"Add to queue",onThumbnailClick:n},e.id.videoId)}))})})})]})},P=n(122),E=n.n(P);var R=function(e){var t,n=e.videoToPlay,c=e.onEnded;return Object(m.jsxs)(f.a,{children:[Object(m.jsx)("h4",{children:"Currently playing"}),Object(m.jsx)("div",{className:"video-responsive",children:Object(m.jsx)(E.a,{playing:!0,controls:!0,onEnded:function(){return c(null===n||void 0===n?void 0:n.key)},url:"".concat("https://www.youtube.com/watch?v=").concat(null===n||void 0===n||null===(t=n.id)||void 0===t?void 0:t.videoId)})})]})},A=n(123);var I=function(e){var t=e.queue,n=e.setQueue,c=e.removeItem,i=e.playItem;return Object(m.jsxs)(C.a,{fluid:!0,children:[Object(m.jsx)(C.a.Content,{children:Object(m.jsx)(C.a.Header,{children:"Queue"})}),Object(m.jsxs)(C.a.Content,{className:"video-queue",children:[Object(m.jsx)(A.ReactSortable,{list:t,setList:n,children:(null===t||void 0===t?void 0:t.length)&&(null===t||void 0===t?void 0:t.map((function(e){return Object(m.jsx)(T,{thumbnailText:"Play",onRemoveClick:c,onThumbnailClick:i,showDelete:!0,item:e},e.key)})))}),!(null===t||void 0===t?void 0:t.length)&&Object(m.jsx)("h4",{children:"No item in queue"})]})]})},Q=n(124),_=n.n(Q),q=n(98),D=n(97),N=n.n(D),F=n(125),L=n.n(F);N.a.extend(L.a);var U=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),a=Object(d.a)(r,2),s=a[0],h=a[1],x=Object(c.useState)({}),v=Object(d.a)(x,2),p=v[0],y=v[1],C=Object(c.useState)([]),k=Object(d.a)(C,2),S=k[0],T=k[1],P=Object(c.useState)(!1),E=Object(d.a)(P,2),A=E[0],Q=E[1],D=Object(c.useState)(!1),F=Object(d.a)(D,2),L=F[0],U=F[1],H=Object(c.useState)(!1),J=Object(d.a)(H,2),K=J[0],V=J[1],W=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_YTQUEUE_SERVER||"";Object(c.useEffect)((function(){S.length&&localStorage.setItem("storedQueue",JSON.stringify(S))}),[S]),Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("storedQueue"));(null===e||void 0===e?void 0:e.length)&&U(!0),q.a.initialize("UA-193720727-1"),q.a.pageview("/")}),[]);var Y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,_.a.get("".concat(W,"api/search/").concat(t));case 3:c=e.sent,r=c.data,r=null===(n=r)||void 0===n?void 0:n.map((function(e){var t=N()(e.snippet.publishedAt).fromNow();return Object(u.a)(Object(u.a)({},e),{},{publishedAt:t})})),h(t),i(r),V(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)(f.a,{children:[Object(m.jsx)(g,{loading:K,searchVideo:Y}),Object(m.jsxs)(b.a,{columns:"equal",children:[Object(m.jsxs)(b.a.Column,{children:[(null===n||void 0===n?void 0:n.length)>0&&Object(m.jsx)(w,{searchQuery:s,searchResults:n,addToQueue:function(e){S.length<1&&(y(e),e.played=!0),e.key=Math.random().toString(36).substr(2,5),T([].concat(Object(o.a)(S),[e]))}}),Object(m.jsx)(R,{videoToPlay:p,onEnded:function(e){var t=S.findIndex((function(t){return t.key===e}));if(t>=0&&t!==S.length){var n=S[t+1];n&&(n.played=!0,T(Object(o.a)(S)),y(n))}}})]}),Object(m.jsxs)(b.a.Column,{children:[Object(m.jsx)(I,{playItem:function(e){var t=S.find((function(t){return t.key===e.key}));t.isPlayed=!0,T(Object(o.a)(S)),y(t)},removeItem:function(e){var t=S.findIndex((function(t){return t.key===e.key}));S.splice(t,1),T(Object(o.a)(S))},queue:S,setQueue:T}),L&&!A&&Object(m.jsx)(O.a,{secondary:!0,size:"small",onClick:function(){Q(!0);var e=JSON.parse(localStorage.getItem("storedQueue"));T(e)},children:"Load queue from local storage"})]})]})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,198)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),H()},91:function(e,t,n){}},[[176,1,2]]]);
//# sourceMappingURL=main.6d4676c7.chunk.js.map